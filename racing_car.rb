def minimumMovement(obstacleLanes)
    # Write your code here
    lane_track = {}
    lane_track["move"], lane_track["last_move"] = 0
    lane_track["visited"] = [], lane_track["lanes"] = [1,2,3]
    0.upto(obstacleLanes.length - 1) do |i|
        next if (lane_track["move"] == 0 && obstacleLanes[i] != 2 )
        next if (lane_track["visited"].include?(i))
        if (obstacleLanes[i] == lane_track["last_move"] ||lane_track["move"] == 0)
             arr = lane_track["lanes"] - [obstacleLanes[i], obstacleLanes[i+1]]
            if arr.length == 1
                lane_track["last_move"] = arr[0]
                lane_track["move"] += 1
                lane_track["visited"] << i + 1
            else
                lane_track[i+1] = i+1
                lane_track[i+2] = i+2
                while(obstacleLanes[lane_track[i+1]] == obstacleLanes[lane_track[i+2]])
                    lane_track["visited"] << lane_track[i+1]
                    lane_track["visited"] << lane_track[i+2]
                    lane_track[i+1] += 1
                    lane_track[i+2] += 1
                end
                arr = lane_track["lanes"] - [obstacleLanes[lane_track[i+1]], obstacleLanes[lane_track[i+2]]]
                lane_track["last_move"] = arr[0]
                lane_track["move"] += 1
                lane_track["visited"] << lane_track[i+2]
            end
        end   
    end
   lane_track["move"]
end



p minimumMovement([2,1,2])
p minimumMovement([2,1,3,2])
p minimumMovement([2,3,2,1,3,1])
p minimumMovement([3,2,2,1,2,1])
p minimumMovement([2,1,3,3,3,1])
p minimumMovement([1, 3, 1, 1, 3, 3, 2, 1, 3, 1, 2, 3, 3, 2, 2, 1, 3, 1, 3, 2, 2, 3, 2, 1, 1, 1, 3, 2, 2, 2, 3, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 1, 1, 2, 1, 3, 3, 3, 2, 2, 2, 2, 2, 3, 1, 3, 2, 1, 1, 2, 2, 3, 2, 3, 1, 1, 3, 1, 2, 2, 1, 1, 1, 1, 1, 3, 2, 2, 1, 3, 2, 1, 1, 1, 3, 1, 1, 1, 3, 3, 1, 3, 2, 3, 1, 2, 3, 2, 3, 3, 3, 3, 2, 1, 2, 2, 2, 1, 2, 2, 2, 1, 1, 3, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 3, 3, 2, 3, 3, 2, 1, 2, 1, 2, 3, 1, 3, 1, 3, 2, 3, 2, 2, 2, 1, 3, 3, 3, 3, 1, 1, 3, 2, 2, 3, 2, 1, 2, 1, 2, 1, 3, 3, 2, 2, 3, 1, 2, 2, 3, 1, 1, 2, 3, 3, 2, 1, 1, 2, 1, 1, 2, 1, 2, 1, 3, 2, 3, 3, 3, 1, 3, 2, 3, 1, 2, 3, 1, 3, 2, 3, 3, 2, 2, 2, 1, 2, 1, 2, 1, 2, 3, 2, 3, 1, 2, 1, 2, 1, 3, 1, 2, 2, 3, 2, 3, 2, 2, 2, 3, 3, 1, 2, 2, 2, 1, 1, 1, 2, 1, 1, 3, 2, 2, 3, 1, 2, 2, 1, 2, 1, 2, 1, 2, 2, 3, 1, 1, 1, 1, 1, 3, 1, 2, 3, 3, 2, 1, 3, 2, 1, 3, 2, 1, 2, 3, 1, 1, 2, 3, 1, 2, 2, 1, 1, 3, 1, 2, 3, 2, 1, 2, 2, 1, 2, 1, 2, 2, 2, 3, 3, 1, 3, 3, 3, 3, 1, 3, 1, 3, 3, 2, 1, 3, 1, 3, 1, 3, 1, 3, 2, 2, 1, 2, 2, 1, 2, 1, 1, 1, 1, 2, 2, 1, 3, 1, 2, 2, 1, 3, 3, 3, 2, 3, 2, 3, 3, 2, 2, 3, 1, 1, 1, 2, 3, 1, 2, 3, 2, 3, 2, 2, 3, 1, 2, 3, 2, 1, 3, 3, 2, 3, 2, 1, 2, 3, 3, 3, 3, 1, 1, 1, 2, 1, 1, 2, 1, 1, 2, 2, 3, 1, 1, 1, 2, 2, 2, 3, 1, 1, 1, 1, 3, 2, 3, 3, 2, 1, 3, 1, 3, 2, 2, 3, 3, 3, 1, 3, 2, 1, 1, 1, 3, 2, 3, 1, 2, 1, 1, 3, 2, 2, 1, 3, 2, 3, 1, 2, 1, 1, 2, 2, 2, 1, 2, 2, 1, 2, 1, 2, 3, 3, 2, 3, 1, 1, 1, 2, 3, 2, 3, 3, 2, 3, 2, 3, 1, 1, 1, 2, 3, 3, 2, 3, 3, 3, 3, 2, 3, 2, 3, 3, 1, 3, 3, 1, 3, 2, 3, 1, 2, 3, 3, 1, 3, 3, 2, 1, 2, 2, 2, 1, 2, 3, 2, 3, 2, 2, 3, 2, 3, 1, 3, 3, 2, 3, 1, 1, 3, 1, 2, 1, 2, 3, 2, 2, 1, 3, 2, 2, 3, 2, 2, 2, 3, 2, 3, 1, 1, 2, 2, 3, 2, 3, 3, 3, 3, 1, 2, 3, 1, 1, 3, 3, 2, 2, 2, 2, 2, 3, 3, 3, 1, 3, 1, 2, 2, 1, 2, 1, 2, 2, 2, 3, 1, 1, 2, 2, 2, 1, 3, 3, 1, 1, 3, 2, 1, 3, 3, 3, 3, 3, 1, 2, 1, 3, 1, 3, 1, 2, 2, 1, 3, 2, 2, 3, 3, 3, 1, 3, 3, 2, 1, 2, 1, 1, 3, 1, 2, 2, 3, 3, 1, 2, 2, 2, 2, 2, 2, 1, 3, 1, 1, 2, 3, 2, 2, 1, 3, 2, 1, 3, 3, 1, 1, 1, 2, 2, 3, 2, 2, 3, 3, 1, 1, 1, 3, 1, 3, 3, 2, 3, 3, 1, 2, 3, 3, 1, 3, 3, 1, 3, 2, 3, 2, 3, 2, 2, 1, 1, 2, 2, 3, 1, 3, 2, 1, 2, 1, 3, 3, 2, 2, 1, 1, 1, 2, 2, 3, 3, 2, 3, 2, 3, 3, 2, 3, 3, 1, 2, 2, 2, 2, 3, 2, 1, 2, 2, 1, 3, 3, 2, 1, 2, 2, 1, 3, 3, 1, 2, 1, 1, 2, 1, 3, 3, 3, 3, 3, 2, 1, 2, 1, 1, 2, 1, 3, 2, 1, 1, 3, 3, 1, 3, 3, 1, 3, 2, 2, 2, 1, 1, 3, 1, 1, 1, 3, 3, 2, 1, 2, 3, 2, 2, 1, 1, 3, 3, 3, 3, 1, 2, 3, 3, 1, 2, 2, 1, 1, 2, 1, 2, 1, 2, 3, 3, 1, 1, 1, 2, 3, 3, 1, 2, 2, 3, 3, 1, 2, 3, 2, 3, 2, 2, 1, 2, 3, 2, 2, 2, 1, 1, 2, 3, 1, 2, 2, 1, 1, 3, 3, 3, 3, 3, 3, 1, 2, 1, 3, 1, 3, 3, 2, 1, 3, 1, 2, 3, 1, 3, 1, 2, 2, 3, 2, 1, 3, 3, 2, 3, 1, 1, 1, 3, 3, 2, 1, 3, 3, 3, 1, 2, 2, 2, 2, 3, 2, 3, 2, 1, 1, 2, 1, 2, 1, 3, 2, 1, 3, 3, 2, 2, 2, 3, 2, 2, 3, 2, 2, 3, 1, 1, 1, 3, 1, 2, 2, 2, 1, 1, 2, 2, 2, 1, 3, 3, 2, 3, 3, 2, 1, 2, 3, 2, 3, 3, 2, 3, 2, 1, 2, 3, 1, 3, 2, 3, 3, 2, 2, 2, 1, 2, 2, 3, 2, 1, 1, 1, 1, 1, 1, 3, 3, 2, 2, 2, 3, 3, 1, 1, 1, 1, 1, 3, 2, 3, 3, 2, 3, 3, 2, 2, 1, 3, 3, 1, 1, 2, 1, 2, 2, 3, 3, 2, 2, 3, 1, 1, 1, 1, 2, 3, 3, 3, 3, 3, 3, 3, 2, 1, 1, 1, 1, 3, 3, 3, 1, 2, 1, 1, 3, 1, 3, 3, 1, 3, 3, 2, 3, 3, 1, 2, 1, 3, 1, 2, 1, 2, 3, 1, 2, 2, 3, 3, 3, 2, 3, 2, 1, 2, 3, 2, 2, 3, 1, 2, 2, 1, 3, 2, 3, 2, 2, 2, 2, 2, 1, 3, 3, 2, 3, 2, 1, 2, 1, 3, 2, 1, 3, 2, 3, 2, 3, 1, 2, 2, 2, 3, 2, 1, 3, 2, 2, 3, 1, 3, 3, 1, 1, 1, 2, 3, 2, 2, 1, 2, 2, 2, 1, 1, 2, 3, 2, 1, 1, 2, 3, 3, 2, 3, 3, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 2, 3, 2, 3, 2, 3, 3, 2, 3, 3, 3, 2, 3, 3, 2, 3, 2, 2, 3, 3, 2, 3, 1, 2, 1, 2, 3, 2, 2, 1, 1, 2, 2, 1, 1, 1, 1, 3, 1, 3, 2, 1, 2, 3, 1, 3, 1, 3, 3, 2, 1, 3, 3, 1, 1, 1, 3, 3, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 3, 2, 1, 1, 1, 2, 2, 1, 3, 2, 2, 3, 2, 1, 3, 2, 3, 2, 2, 2, 1, 1, 3, 3, 1, 2, 1, 3, 3, 1, 1, 1, 1, 3, 3, 1, 1, 2, 3, 3, 3, 2, 2, 1, 3, 1, 3, 2, 1, 3, 2, 1, 3, 3, 3, 2, 2, 2, 1, 2, 2, 1, 2, 2, 1, 3, 2, 3, 1, 1, 2, 3, 1, 3, 2, 2, 1, 2, 2, 2, 3, 3, 2, 3, 1, 1, 1, 3, 2, 3, 1, 1, 1, 2, 3, 1, 1, 2, 2, 2, 2, 2, 3, 2, 2, 3, 2, 3, 3, 2, 2, 1, 2, 2, 1, 3, 3, 2, 2, 3, 1, 3, 2, 1, 3, 1, 3, 1, 3, 2, 3, 2, 2, 3, 2, 3, 1, 2, 2, 1, 1, 2, 1, 2, 3, 1, 1, 3, 3, 3, 2, 3, 1, 3, 3, 3, 2, 2, 1, 3, 1, 1, 1, 3, 2, 1, 2, 1, 1, 3, 1, 2, 2, 1, 3, 2, 3, 1, 1, 1, 3, 3, 3, 3, 1, 1, 3, 3, 3, 1, 1, 1, 3, 1, 2, 1, 2, 1, 1, 3, 1, 3, 2, 1, 1, 2, 3, 3, 3, 1, 3, 3, 2, 1, 2, 2, 3, 1, 1, 2, 2, 1, 3, 2, 3, 2, 1, 1, 2, 2, 1, 2, 1, 3, 2, 1, 2, 2, 1, 2, 2, 2, 2, 1, 2, 1, 1, 1, 3, 3, 2, 1, 3, 3, 1, 1, 3, 2, 1, 1, 1, 2, 3, 1, 2, 3, 1, 1, 3, 1, 3, 1, 2, 1, 1, 1, 2, 3, 2, 1, 3, 2, 2, 2, 2, 1, 3, 1, 3, 2, 2, 1, 3, 2, 2, 3, 2, 3, 2, 1, 2, 2, 1, 3, 2, 2, 2, 1, 1, 1, 2, 3, 2, 2, 1, 1, 2, 2, 3, 2, 3, 3, 2, 3, 1, 3, 2, 1, 3, 1, 3, 1, 1, 2, 3, 3, 1, 3, 3, 2, 3, 3, 2, 1, 3, 1, 2, 3, 2, 1, 3, 3, 2, 1, 3, 3, 2, 3, 3, 3, 2, 2, 2, 1, 1, 3, 3, 2, 2, 1, 1, 1, 2, 1, 1, 1, 2, 3, 3, 2, 2, 3, 3, 2, 3, 3, 1, 2, 2, 3, 3, 1, 1, 3, 2, 2, 3, 3, 3, 1, 1, 2, 1, 1, 2, 3, 3, 3, 1, 3, 1, 1, 3, 2, 2, 1, 3, 3, 1, 1, 1, 2, 1, 3, 3, 3, 2, 1, 1, 1, 1, 1, 3, 2, 1, 2, 2, 3, 3, 1, 2, 3, 3, 1, 2, 2, 1, 1, 2, 2, 3, 2, 3, 3, 2, 1, 3, 2, 3, 3, 1, 2, 2, 2, 2, 1, 1, 3, 1, 2, 1, 1, 3, 1, 1, 1, 3, 1, 1, 2, 3, 2, 2, 1, 1, 3, 3, 3, 1, 3, 2, 1, 3, 1, 2, 3, 2, 3, 2, 2, 3, 3, 3, 1, 1, 3, 2, 2, 1, 2, 1, 3, 1, 1, 1, 3, 2, 2, 2, 2, 2, 2, 3, 2, 2, 1, 2, 1, 2, 2, 1, 1, 3, 2, 2, 1, 1, 1, 2, 2, 2, 2, 1, 2, 1, 1, 3, 3, 3, 1, 1, 2, 2, 2, 2, 3, 1, 1, 2, 3, 3, 1, 2, 3, 3, 3, 3, 2, 3, 3, 3, 2, 1, 2, 1, 3, 3, 2, 1, 1, 2, 2, 3, 1, 2, 1, 2, 3, 2, 3, 1, 3, 2, 1, 3, 1, 2, 2, 1, 2, 1, 2, 2, 1, 2, 2, 3, 3, 1, 2, 2, 3, 3, 3])